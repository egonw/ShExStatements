<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="Description" content="ShExStatements"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="shortcut icon" href="images/logo/favicon.png"/>
    <title>ShExStatements</title>
    <style type="text/css">
    body{
      background-color: #FFFFFF;
    }
    .content {
     line-height: 1.9vmax;
     font-size: 1.2vmax;
     font-family: 'Arial';
     margin-top: 10vh;
     width:90%;
    }
    .content h1, h2, h3, h4{
     color:#1B80CF;
    }
    .content a:link,
    .content a:visited{
     color: #1B80CF;
    }
    .content h3 {
     color: #1B80CF;
    }
    .content a:link,
    .content a:visited{
      color:#1873B9;
    }
    .page {
      width:65vw;
      height:100%;
      margin-left:20vw;
      margin-right:20vw;
      overflow: hidden;
      padding: 0 1em;
      font-family: 'Arial';
    }
    </style>
  </head>
  <body vocab="http://schema.org/" typeof="Website"> 
    <div class="page">
      <div class="content">
<h1>ShExStatements: Documentation</h1>

<p>ShExStatements allows the users to generate shape expressions from simple CSV statements and files. <code>shexstatements</code> can be also be used from the command line.</p>

<h2>Objectives</h2>

<ul>
<li>Easily generate shape expressions (ShEx) from CSV files </li>
<li>Simple syntax, with 5 columns
<ul>
<li>Node name</li>
<li>Property</li>
<li>Allowed values</li>
<li>Cardinality (optional)</li>
<li>Comments (optional)</li>
</ul></li>
</ul>

<h2>Quick start</h2>

<p>Clone the <strong>ShExStatements</strong> repository.
<pre>
<code>
$ git clone https://github.com/johnsamuelwrites/ShExStatements.git
</code>
</pre>
</p>

<p>Go to <strong>ShExStatements</strong> directory.
<pre>
<code>
$ cd ShExStatements
</code>
</pre>
</p>

<p>Run the following command with an example CSV file. The file contains an example description of a language on Wikidata. This file uses comma as a delimiter to separate the values.
<pre>
<code>
$ ./shexstatements.sh examples/language.csv
</code>
</pre>
</p>

<p>There are five columns in the CSV file. Column 1 is used for specifying the node name, 2 for specifying the property value, 3 for possible values, 4 for cardinality (+,*) and column 5 for comments. Comments start with #.
Columns 1, 2, 3 are mandatory. Column 3 can be a special value like . (period to say 'any' value). Columns 3,4 and 5 are empty for prefixes. </p>

<p>Cardinality can be any one of the following values
* * : zero or more values
* + : one or more values
* m : m number of values
* m,n : any number of values between m and n (including m and n).</p>

<p>CSV file can use delimiters like <em>;</em>. Take for example, the following command works with a file using semi-colon as a delimiter. </p>

<p>
<pre>
<code>
$ ./shexstatements.sh examples/languagedelimsemicolon.csv --delim ";"
</code>
</pre>
</p>

<p>But sometimes, users may like to specify the header. In that case, they can make use of <code>-s</code> or <code>--skipheader</code> to tell the generator to skip the header (firsrt line of CSV).</p>

<p>
<pre>
<code>
$ ./shexstatements.sh --skipheader examples/languageheader.csv
</code>
</pre>
</p>

<p>In all the above cases, the shape expression generated by <strong>ShExStatements</strong> will look like
<pre>
<code>
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX wd: &lt;http://www.wikidata.org/entity/&gt;
PREFIX wdt: &lt;http://www.wikidata.org/prop/direct/&gt;
start = @&lt;language&gt;
&lt;language&gt; {
  wdt:P31 [ wd:Q34770  ] ;# instance of a language
  wdt:P1705 LITERAL ;# native name
  wdt:P17 .+ ;# spoken in country
  wdt:P2989 .+ ;# grammatical cases
  wdt:P282 .+ ;# writing system
  wdt:P1098 .+ ;# speakers
  wdt:P1999 .* ;# UNESCO language status
  wdt:P2341 .+ ;# indigenous to
}
</code>
</pre>
</p>

<p>Use <code>-j</code> or <code>--shexj</code> to generate ShEx JSON Syntax (ShExJ) instead of default ShEx Compact syntax (ShExC).</p>

<p>
<pre>
<code>
$ ./shexstatements.sh --shexj examples/language.csv
</code>
</pre>
</p>

<p>The outpul will be similiar to:</p>

<p>
<pre>
<code>
{
  "type": "Schema",
  "start": "language",
  "shapes": [
    {
      "type": "Shape",
      "id": "language",
      "expression": {
        "type": "EachOf",
        "expressions": [
          {
            "type": "TripleConstraint",
            "predicate": "http://www.wikidata.org/prop/direct/P31",
            "valueExpr": {
              "type": "NodeConstraint",
              "values": [
                "http://www.wikidata.org/entity/Q34770"
              ]
            }
          },
          {
            "type": "TripleConstraint",
            "predicate": "http://www.wikidata.org/prop/direct/P1705",
            "valueExpr": {
              "type": "NodeConstraint",
              "nodeKind": "literal"
            }
          },
          {
            "type": "TripleConstraint",
            "predicate": "http://www.wikidata.org/prop/direct/P17",
            "min": 1,
            "max": -1
          },
          {
            "type": "TripleConstraint",
            "predicate": "http://www.wikidata.org/prop/direct/P2989",
            "min": 1,
            "max": -1
          },
          {
            "type": "TripleConstraint",
            "predicate": "http://www.wikidata.org/prop/direct/P282",
            "min": 1,
            "max": -1
          },
          {
            "type": "TripleConstraint",
            "predicate": "http://www.wikidata.org/prop/direct/P1098",
            "min": 1,
            "max": -1
          },
          {
            "type": "TripleConstraint",
            "predicate": "http://www.wikidata.org/prop/direct/P1999",
            "min": 0,
            "max": -1
          },
          {
            "type": "TripleConstraint",
            "predicate": "http://www.wikidata.org/prop/direct/P2341",
            "min": 1,
            "max": -1
          }
        ]
      }
    }
  ]
}
</code>
</pre>
It's also possible to use application profiles of the following form
<pre>
<code>
Entity_name,Property,Property_label,Mand,Repeat,Value,Value_type,Annotation
</code>
</pre>
and Shape expressions can be generated using the following form
<pre>
<code>
$ ./shexstatements.sh -ap --skipheader examples/languageap.csv
</code>
</pre>
</p>

<p>There are example CSV files in the <a href="../examples/">examples</a> folder.</p>
      </div>
    </div>
  </body>
</html>
